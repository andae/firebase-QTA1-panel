<div class="content-heading"> 
    <small><a [routerLink]=" ['/home'] ">Beranda</a> ->
        <a [routerLink]="['/menu/manageItems']"> Produk Toko </a>->
        Tambahkan Produk Toko
    </small>
</div>

<!-- START panel-->
<div class="panel panel-default">
    <div class="panel-heading">Rincian Produk</div>
    <div class="panel-body">
        
        <form (ngSubmit)="onSubmitMainItems(f)" #f="ngForm">
         
            <fieldset>

                <label class="col-sm-4 control-label custom">Nama Produk*</label>
                <div class="col-sm-6">
                    <div class="panel">
                        <div class="panel-body mh0">
                            <input class="form-control" name="title" id="title" [(ngModel)]="menuItems.title"
                                   type="text" required placeholder="Nama produk"/>
                        </div>
                    </div>
                </div>
                
                <label class="col-sm-4 control-label custom">
                    Stok Tersedia*
                </label>
                <div class="col-sm-6">
                    <div class="panel">
                        <div class="panel-body mh0">
                            <input class="form-control" type="number" name="stok" id="stok"
                                   [(ngModel)]="menuItems.stok" required="" rows="3">
                        </div>
                    </div>
                </div>

                <label class="col-sm-4 control-label custom">
                    Diskon Umum
                </label>
                <div class="col-sm-6">
                    <div class="panel">
                        <div class="panel-body mh0">
                            <input class="form-control" type="number" name="offerPercentage" id="offerPercentage" min="0" 
                                   [(ngModel)]="menuItems.offerPercentage" required="">
                        </div>
                    </div>
                </div>

                <label class="col-sm-4 control-label custom">
                    Diskon Mitra
                </label>
                <div class="col-sm-6">
                    <div class="panel">
                        <div class="panel-body mh0">
                            <input class="form-control" type="number" name="offerPercentageMitra" id="offerPercentageMitra"
                                   [(ngModel)]="menuItems.offerPercentageMitra" required="">
                        </div>
                    </div>
                </div>

                <label class="col-sm-4 control-label custom">Kategori</label>
                <div class="col-sm-6">
                    <div class="panel">
                        <div class="panel-body mh0">

                            <select class="form-control" name="categoryId" id="categoryId" [(ngModel)]="menuItems.category">
                                <option>Pilih Kategori</option>
                                <option *ngFor="let category of categories" value="{{category.key}}">
                                    {{category.title}}
                                </option>
                            </select>

                        </div>
                    </div>
                </div>

                <!-- *ngIf="menuItems.category == 'Peralatan Sarana Produksi'" -->
                <div>
                    <label class="col-sm-4 control-label custom">
                        Link Video
                    </label>
                    <div class="col-sm-6">
                        <div class="panel">
                            <div class="panel-body mh0">
                                <input class="form-control" type="text" name="linkVideo" id="linkVideo" 
                                    [(ngModel)]="menuItems.linkVideo" required="">
                                <p>
                                    contoh link: https://www.youtube.com/embed/vsl3gBVO2k4
                                </p>
                            </div>
                        </div>
                    </div>
                </div>


                <label class="col-sm-4 control-label custom">Harga *</label>
                <div class="col-sm-8">
                    <div class="panel">
                        <div class="panel-body mh0">
                            <div class="row">
                                <div class="col-md-11 added-block" *ngFor="let choice of menuItems.price; let i = index"
                                     [attr.data-index]="i">
                                    <div class="col-md-5">
                                        <input class="form-control" type="text" name="pname-{{i}}" id="pname"
                                               [(ngModel)]="choice.pname" placeholder="Satuan produk / ukuran (100ML, 1Kg)"/>
                                    </div>
                                    <div class="col-md-5">
                                        <input currencyMask class="form-control" type="text" name="value-{{i}}" id="value"
                                               [(ngModel)]="choice.value" placeholder="Harga per satuan">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <label class="col-sm-4 control-label custom">
                    Deskripsi
                </label>
                <div class="col-sm-12">
                    <ck-editor name="description" id="description" [(ngModel)]="menuItems.description" 
                    skin="moono-lisa" [fullPage]=" true" #ckEditor="ckEditor" ></ck-editor>
                </div>

                <!-- <label class="col-sm-2 control-label custom">
                    Gambar Produk
                </label>
                <div class="col-sm-10">
                    <div class="row panel">
                        <div class="col-md-4">
                            <div class="panel-body mh0 fileUpload btn btn-primary choose-btn">
                                <span> <i class="fa fa-upload" aria-hidden="true"></i> &nbsp; Upload</span>
                                <input type="file" class="upload" ng2FileSelect [uploader]="uploader" accept="image/*"
                                       (change)="readUrl($event)">
                            </div>
                        </div>
                        <div class="col-md-6" [hidden]="url ==''">
                            <img class="media-object img-thumbnail thumb96" [src]="url" alt="Image"/>
                        </div>
                    </div>
                </div> -->

                <!-- <br /> -->

                <!-- <div class="form-group row">
                  <div class="col-lg-8">
                    <div class="col-lg-5">
                      <label class="file-upload imageButton text-center customUploadButton">
                        <button class="btn btn-default">
                          <em class="fa fa-upload mr"></em> 
                          Gambar Kecil
                        </button>
                        
                        <input type="file" class="upload" id="inputFileIdSesudah" accept="image/*"
                               (change)="UploadImageSesudah($event)">
                      </label>
                    </div>
                    <div class="col-lg-6">
                      <a>
                        <img class="media-object img-thumbnail thumb96" [src]="url2" alt="Image"/>
                      </a>
                    </div>
                  </div>
                </div> -->

                <div class="col-md-12">
                    <br />
                    <br />
                    
                    <button class="btn btn-danger pull-right s-n-btn" (click)="cancel()">Batal</button>
                    <button class="btn btn-primary pull-right s-n-btn" type="submit">Lanjut</button>
                </div>

            </fieldset>
        </form>

        <ng4-loading-spinner [threshold]="2000"  [loadingText]="'Silahkan Tunggu...'" 
            [zIndex]="9999"></ng4-loading-spinner>

    </div>
</div>